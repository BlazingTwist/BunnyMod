# Scratchpad

- Object SetVars
  - Took this apart to make it update performantly. SetVars is no longer triggering.

- Underdark Citizen
  - Make manholes generate in every district.
    - Possibly can model this after WarZone, which is called by LevelFeelings.StartAfterNotification
      - However, that's an IEnumerator so it might be harder to patch.
      - 
- Eagle Eyes
  - Requested zoom feature... ehh

- City Size Mutators
    ```
    [Info   : Unity Log] 37%
    [Info   : Unity Log] GC RealAwake
    [Info   : Unity Log] AwakenObjects
    [Info   : Unity Log] LoadStuff2
    [Info   : Unity Log] Letter Seed: kxtnzpwz
    [Info   : Unity Log] Num Seed: 1965609748
    [Info   : Unity Log] RANDOM SEED: kxtnzpwz - 1965609748
    [Info   : Unity Log] LEVEL NUM: 1 - 1 (Endless)
    [Info   : Unity Log] RANDOM NUMBER: 211 - False
    [Info   : Unity Log] Mutators: CitySprawl
    [Info   : Unity Log] Set Level Theme: 0
    [Info   : Unity Log] CREATING INITIAL MAP WITH SEED NUM: 1965609748 - UsedChunks Count: 0
    [Info   : Unity Log] LEVEL SIZE: 20
    [Error  : Unity Log] IndexOutOfRangeException: Index was outside the bounds of the array.
    Stack trace:
    BunnyMod.Content.BunnyMutators.LoadLevel_CreateInitialMap (LoadLevel __instance, System.Boolean ___placedKey1, System.Boolean ___placedKey2, System.Boolean ___placedKey3) (at <fe6c7dd7ce044a038e757ffb2bc35140>:0)
    LoadLevel.CreateInitialMap () (at <5b00a25014d74f7f862ecdd1d48f7c04>:0)
    LoadLevel+<loadStuff2>d__137.MoveNext () (at <5b00a25014d74f7f862ecdd1d48f7c04>:0)
    UnityEngine.SetupCoroutine.InvokeMoveNext (System.Collections.IEnumerator enumerator, System.IntPtr returnValueAddress) (at <73b499366e5241bda47e5da76897738b>:0)
    UnityEngine.MonoBehaviour:StartCoroutine(IEnumerator)
    LoadLevel:loadStuff()
    GameController:AwakenObjects()
    GameController:CreateMultPlayerAgent(GameObject, Int32)
    <WaitForRealStart>d__479:MoveNext()
    UnityEngine.SetupCoroutine:InvokeMoveNext(IEnumerator, IntPtr)
    ```

---

# Implementations

## Mutators

- Easter BunnyMod - Everyone starts with Resurrection
- Nanobot HMO - Everyone permanently slowly regenerates health
- Deflation - Prices don't increase per level
- Stuffed - If you eat more than one food item within a minute, you gain Slow for the rest of the minute.
- Alcohol - Each consumption of an alcoholic beverage moves you up a tier for 60 seconds.
  - Steady - Aim improved, social %s improved
  - Tipsy - Aim reduced, object interactions slowed
  - Drunk - Melee damage resistance improved, aim horrendous, Social %s reduced, object interactions slowed further
- Big City
- Small City
- Sturdy Walls
- Flimsy Walls
- Benjamin Button - Immediately level up to 12 at the beginning of the game. Lose a level every Floor.
- Mafia spawn on all levels (Request)
  - Would be extremely easy, just set LevelData.levelFeatures.Contains("Mafia") to true
- District-related spawns
  - LevelEditor.CreateLevelFeatureList
- Let Me See That Throng
  - Multiply number of roamers by ~4
- Bad Air Quality
  - No Roamers
- Return to Shrunke
  - Everyone in the city is Shrunken. 
- Large Maps
- No NPC Tethers
- Voucher rewards (Free Item or Hire Vouchers)

## Object Interactions
- Air Conditioning Unit
  - Release Gas without access to main computer 
  - Uses Wrench, 10s countdown
- Bed 
  - Fucking explode if someone tries to sleep in it. Not sure if they go back to bed after awoken, though.
- Safe 
  - Open with Detonator.
- Stove
  - Raise countdown to 10s from 5s, just to match. I like 5s but we should defer to vanilla choices in this case.
- Vendor Stand
  - Activate to steal. It has a progress bar and is eligible for sneaky fingers, nimble fingers, & Promise I'll Return it
  - Needs to alert police

## Traits
- Update Ideas file to include any Traits you've made Placeholders for (commented out)
---
- Alcoholic - Addict, but with Alcohol
- Door Kicker - Activate a Door and select "Kick". Door is instantly destroyed, and anyone standing behind it is stunned. SWAT shit!
- Fingerless
  - Can't open doors
  - Can't equip anything
  - Can't operate anything
- Hungry Boy - Addict, but with Food
- Underdark Citizen 
  - Use crowbar to open a manhole
  - Activate an open Manhole to jump out of another one
  - People will not attack you from manholes
  - Manholes spawn in all districts
- One Happy Tamper - Tamper without angering Owner (Or just extend this into Clumsiness Forgiven)
- Spectral Strikes
- Stealth Bastard Deluxe
  - Hide in Trashcans if you have Diminutive
- Stupid - Slower XP Gain
  - Super Stupid - Slower Slower XP Gain Slower
  - Absolute Fucking Moron - Zero XP gain, ever. (100)
- Tarrare - You can eat certain objects
- Trapper Keeper - You can Interact with traps to add them to your inventory (Bear Traps, Land Mines). 100% chance to deactivate Door Detonators.
- Trait: Beggar 
  - Works like Mugging, but lower-stakes.
- Zoom Levels
	- https://discord.com/channels/187414758536773632/433748059172896769/815314079408980000
---

# Fixes


---

# Balancing


---

# Finalization
- Do renames *only when the code is complete*.
- Complete and win a run with each new feature, and successfully load a return to home base. This would be a full cycle of the code you can expect to run into.
- Make a promo character for each special ability or trait group, to promote the mod and community at large.
- Update Sprites
- Increment the Version Number!

## Release Notes 

- New Mutators: Shanty Town & City of Steel
- New Traits: Eagle Eyes, Eagle Eyes +, Myopic, Ultramyopic, Underdark Citizen

# Documentation Update Staging

## Mutators

### City of Steel
- All randomized walls will spawn as Steel.
- If a chunk uses non-randomized walls, they will not be affected.

### Shanty Town
- All randomized walls will spawn as Wood.
- If a chunk uses non-randomized walls, they will not be affected.
 
##

## Traits

### Eagle Eyes (3)
- Camera zoom set to 60%

### Eagle Eyes + (6)
- Camera zoom set to 40%

### Myopic (-4)
- Camera zoom set to 150%

### Myopic + (-8)
- Camera zoom set to 200%

### Underdark Citizen (2)
- Will no longer be targeted by Thieves and Cannibals hiding in Manholes
- Activate or fall in a Manhole: Take no damage and teleport to another open Manhole
- Manholes spawn in all Districts

##

## Object Interactions
- Activate: Use Crowbar(15) to open

